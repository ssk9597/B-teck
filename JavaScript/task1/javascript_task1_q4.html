<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript課題①-4</title>
  </head>
  <body>
    <script>
      const arry = [
        { content: "机を片付ける", genre: "掃除" },
        { content: "牛乳を買う", genre: "買い物" },
        { content: "散歩する", genre: "運動" },
      ];

      const performTask = () => {
        console.log("=========================");
        console.log("現在持っているタスクの一覧");
        console.log("=========================");

        for (let i = 0; i < arry.length; i++) {
          console.log(
            i + " : [内容]" + arry[i].content + ", [ジャンル]" + arry[i].genre
          );
        }
      };

      performTask();

      let result = "";

      while (result !== "終了") {
        let add_content = window.prompt("タスクを入力してください", "");
        let add_genre = window.prompt("ジャンルを入力してください", "");
        const additionArry = { content: add_content, genre: add_genre };

        result = window.prompt(
          "「確認, 追加, 削除, 終了」の4つのいずれかを入力してください",
          ""
        );

        if (result === "確認") {
          arry.push(additionArry);
          for (let i = 0; i < arry.length; i++) {
            document.write(
              "[内容]" +
                arry[i].content +
                ", [ジャンル]" +
                arry[i].genre +
                "<br>"
            );
          }
          break;
        } else if (result === "追加") {
          arry.push(additionArry);
          performTask();
          alert("新しいタスクを追加しました");
        } else if (result === "削除") {
          arry.push(additionArry);
          arry.pop();
          performTask();
        } else if (result === "終了") {
          break;
        } else {
          window.prompt(
            "「確認, 追加, 削除, 終了」の4つのいずれかを入力してください",
            ""
          );
        }
      }
    </script>
  </body>
</html>
